<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Items</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

h1 {
    text-align: center;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    border: 1px solid #ccc;
    padding: 10px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

button.copy-btn, button.reset-btn, button.contact-btn {
    padding: 8px 15px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button.copy-btn:hover, button.reset-btn:hover, button.contact-btn:hover {
    background-color: #0056b3;
}

button.copy-btn.copied {
    background-color: #28a745;
}

button.contact-btn {
    display: block;
    margin: 20px auto;
}

</style>
<body>
    <H1 align="center">Key Ng√†y 2/6/2024</H1>
    <h2 align="center">Key S·∫Ω ƒë∆∞·ª£c update theo t√πy h·ª©ng üòÜüòÜ</h2>
    <h2 align="center">N·∫øu ae ko s·ª£ ban th√¨ c√≥ th·ªÉ mua key v·ªõi gi√° 40k/th√°ng </h2>
    <button class="contact-btn"><a href="https://zalo.me/84904174855">Li√™n H·ªá</a></button>
    <div class="container">
        <table id="itemList">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Key</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table rows will be dynamically added here -->
            </tbody>
        </table>
        <!-- <button id="resetButton" class="reset-btn">Reset Tr·∫°ng Th√°i Active</button> -->
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const itemList = document.getElementById('itemList').getElementsByTagName('tbody')[0];

            // Sample data (you can replace this with your own data)
            const data = [
            //     { id: 1, key: '	', copied: false },
            //     { id: 2, key: '	', copied: false },
            //     { id: 3, key: ' ', copied: false },
            //     { id: 4, key: '	', copied: false },
            //     { id: 5, key: '	', copied: false },
            //     { id: 6, key: '	', copied: false },
            //     { id: 7, key: '	', copied: false },
            //     { id: 8, key: '	', copied: false },
            //     { id: 9, key: '	', copied: false },
            //     { id: 10, key: ' ', copied: false },
                { id: 1, key: 'de75c2ce-602f-4c0b-bd34-be90ef31a9d7	', copied: false },
                { id: 2, key: 'ee73e3b1-834c-47d6-b989-d9808809e309	', copied: false },
                { id: 3, key: 'ae1d1bcf-c17e-4f90-ac8e-fcd385da7497 ', copied: false },
                { id: 4, key: '4285af61-42d8-4821-b449-9258585e9e0e	', copied: false },
                { id: 5, key: 'e0fb628a-3dfb-489e-9415-ab19a7a617fa	', copied: false },
                { id: 6, key: '26f97e9a-88be-4aae-8996-2f52e9233dfb	', copied: false },
                { id: 7, key: 'c02fec4b-0054-43af-8bf6-0da2f2c08ff1	', copied: false },
                { id: 8, key: 'd3711d04-def1-4900-93b4-0652df5d7484	', copied: false },
                { id: 9, key: '5262ace3-3e63-43f6-a852-a51b5a7e9fed	', copied: false },
                { id: 10, key: '49dd9229-0d44-4aa2-88e9-49e53cd32861 ', copied: false },
                // { id: 11, key: ' ', copied: false },
                // { id: 12, key: ' ', copied: false },
                // { id: 13, key: ' ', copied: false },
                // { id: 14, key: ' ', copied: false },
                // { id: 15, key: ' ', copied: false },
                // { id: 16, key: ' ', copied: false },
                // { id: 17, key: ' ', copied: false },
                // { id: 18, key: ' ', copied: false },
                // { id: 19, key: ' ', copied: false },
                // { id: 20, key: ' ', copied: false },
   
                // Add more data here...
            ];

           // Restore copied state from local storage
           if (localStorage.getItem('copiedItems')) {
                const copiedItems = JSON.parse(localStorage.getItem('copiedItems'));
                data.forEach(item => {
                    if (copiedItems.includes(item.key)) {
                        item.copied = true;
                    }
                });
            }

            // Populate table with data
            function populateTable() {
                itemList.innerHTML = ''; // Clear existing rows
                data.forEach(function(item) {
                    const row = itemList.insertRow();
                    const idCell = row.insertCell(0);
                    const keyCell = row.insertCell(1);
                    const actionCell = row.insertCell(2);

                    idCell.innerText = item.id;
                    keyCell.innerText = item.key;

                    const copyButton = document.createElement('button');
                    copyButton.innerText = item.copied ? 'ƒê√£ Copy' : 'Copy';
                    copyButton.classList.add('copy-btn');
                    if (item.copied) {
                        copyButton.classList.add('copied');
                        copyButton.disabled = true;
                    }

                    copyButton.addEventListener('click', function() {
                        const textToCopy = item.key;
                        navigator.clipboard.writeText(textToCopy);
                        alert('Key copied: ' + textToCopy);

                        // ƒê·∫∑t c·ªù "copied" th√†nh true v√† c·∫≠p nh·∫≠t giao di·ªán
                        item.copied = true;
                        copyButton.innerText = 'ƒê√£ Copy';
                        copyButton.classList.add('copied');
                        copyButton.disabled = true;

                        // L∆∞u tr·∫°ng th√°i ƒë√£ copy v√†o local storage
                        let copiedItems = [];
                        if (localStorage.getItem('copiedItems')) {
                            copiedItems = JSON.parse(localStorage.getItem('copiedItems'));
                        }
                        copiedItems.push(item.key);
                        localStorage.setItem('copiedItems', JSON.stringify(copiedItems));
                    });

                    actionCell.appendChild(copyButton);
                });
            }

            populateTable();

            resetButton.addEventListener('click', function() {
                const password = prompt('Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ reset tr·∫°ng th√°i active:');
                // Th√™m ƒëi·ªÅu ki·ªán ki·ªÉm tra m·∫≠t kh·∫©u
                if (password === 'Locyeutrang') {
                    data.forEach(item => {
                        item.copied = false;
                    });
                    localStorage.removeItem('copiedItems');
                    populateTable();
                } else {
                    alert('M·∫≠t kh·∫©u kh√¥ng ch√≠nh x√°c. Vui l√≤ng th·ª≠ l·∫°i.');
                }
            });
        });
    </script>
</body>
</html>
