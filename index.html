<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List Items</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

h1 {
    text-align: center;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    border: 1px solid #ccc;
    padding: 10px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

button.copy-btn, button.reset-btn, button.contact-btn {
    padding: 8px 15px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button.copy-btn:hover, button.reset-btn:hover, button.contact-btn:hover {
    background-color: #0056b3;
}

button.copy-btn.copied {
    background-color: #28a745;
}

button.contact-btn {
    display: block;
    margin: 20px auto;
}

</style>
<body>
    <H1 align="center">Key Ng√†y 16/5/2024</H1>
    <h2 align="center">Key s·∫Ω ƒë∆∞·ª£c update h√†ng ng√†y tr·ª´ nh·ªØng h√¥m m√¨nh l∆∞·ªùi ü•≤ü•≤</h2>
    <h2 align="center">N·∫øu ae ko s·ª£ ban th√¨ c√≥ th·ªÉ mua key v·ªõi gi√° 40k/th√°ng </h2>
    <button class="contact-btn"><a href="https://zalo.me/84904174855">Li√™n H·ªá</a></button>
    <div class="container">
        <table id="itemList">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Key</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table rows will be dynamically added here -->
            </tbody>
        </table>
        <!-- <button id="resetButton" class="reset-btn">Reset Tr·∫°ng Th√°i Active</button> -->
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const itemList = document.getElementById('itemList').getElementsByTagName('tbody')[0];

            // Sample data (you can replace this with your own data)
            const data = [
                { id: 1, key: 'a989bfdb-7e37-47c8-9c1f-7730c62abd61	', copied: false },
                { id: 2, key: '3cf35731-a12c-4803-9e20-34af9fe0e834	', copied: false },
                { id: 3, key: '44e4665f-736c-44c1-a9c5-a547e2211911	', copied: false },
                { id: 4, key: '3c445c5a-7337-4b66-942c-74063591f6e1	', copied: false },
                { id: 5, key: 'fd79d030-b2f7-40da-93a0-5ece682c5db1	', copied: false },
                { id: 6, key: '003c3e4c-b27e-4d7e-a5ce-354b13e11905	', copied: false },
                { id: 7, key: 'f51313b8-ebe0-4187-98c3-67cf6c4ffa1d	', copied: false },
                { id: 8, key: 'a7c1ccaf-53a1-400d-92b6-9e4df609aa43	', copied: false },
                { id: 9, key: '428f92fa-de88-474a-8b6d-07f5f3c96b90	', copied: false },
                { id: 10, key: 'e9f208d3-116c-41d0-bdf5-6553fd86848f ', copied: false },
                // { id: 11, key: ' ', copied: false },
                // { id: 12, key: ' ', copied: false },
                // { id: 13, key: ' ', copied: false },
                // { id: 14, key: ' ', copied: false },
                // { id: 15, key: ' ', copied: false },
                // { id: 16, key: ' ', copied: false },
                // { id: 17, key: ' ', copied: false },
                // { id: 18, key: ' ', copied: false },
                // { id: 19, key: ' ', copied: false },
                // { id: 20, key: ' ', copied: false },
   
                // Add more data here...
            ];

           // Restore copied state from local storage
           if (localStorage.getItem('copiedItems')) {
                const copiedItems = JSON.parse(localStorage.getItem('copiedItems'));
                data.forEach(item => {
                    if (copiedItems.includes(item.key)) {
                        item.copied = true;
                    }
                });
            }

            // Populate table with data
            function populateTable() {
                itemList.innerHTML = ''; // Clear existing rows
                data.forEach(function(item) {
                    const row = itemList.insertRow();
                    const idCell = row.insertCell(0);
                    const keyCell = row.insertCell(1);
                    const actionCell = row.insertCell(2);

                    idCell.innerText = item.id;
                    keyCell.innerText = item.key;

                    const copyButton = document.createElement('button');
                    copyButton.innerText = item.copied ? 'ƒê√£ Copy' : 'Copy';
                    copyButton.classList.add('copy-btn');
                    if (item.copied) {
                        copyButton.classList.add('copied');
                        copyButton.disabled = true;
                    }

                    copyButton.addEventListener('click', function() {
                        const textToCopy = item.key;
                        navigator.clipboard.writeText(textToCopy);
                        alert('Key copied: ' + textToCopy);

                        // ƒê·∫∑t c·ªù "copied" th√†nh true v√† c·∫≠p nh·∫≠t giao di·ªán
                        item.copied = true;
                        copyButton.innerText = 'ƒê√£ Copy';
                        copyButton.classList.add('copied');
                        copyButton.disabled = true;

                        // L∆∞u tr·∫°ng th√°i ƒë√£ copy v√†o local storage
                        let copiedItems = [];
                        if (localStorage.getItem('copiedItems')) {
                            copiedItems = JSON.parse(localStorage.getItem('copiedItems'));
                        }
                        copiedItems.push(item.key);
                        localStorage.setItem('copiedItems', JSON.stringify(copiedItems));
                    });

                    actionCell.appendChild(copyButton);
                });
            }

            populateTable();

            resetButton.addEventListener('click', function() {
                const password = prompt('Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ reset tr·∫°ng th√°i active:');
                // Th√™m ƒëi·ªÅu ki·ªán ki·ªÉm tra m·∫≠t kh·∫©u
                if (password === 'Locyeutrang') {
                    data.forEach(item => {
                        item.copied = false;
                    });
                    localStorage.removeItem('copiedItems');
                    populateTable();
                } else {
                    alert('M·∫≠t kh·∫©u kh√¥ng ch√≠nh x√°c. Vui l√≤ng th·ª≠ l·∫°i.');
                }
            });
        });
    </script>
</body>
</html>
